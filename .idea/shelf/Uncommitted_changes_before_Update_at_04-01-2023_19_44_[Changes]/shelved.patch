Index: create_dataset.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from ast import arg\nfrom rdflib import Graph, RDFS, RDF, URIRef, Namespace, Literal, XSD\nfrom owlrl import DeductiveClosure, RDFS_Semantics\nimport random, sys\nimport sys\nimport os\nimport pandas as pd\nfrom string import Template\nimport networkx as nx\nimport networkx.algorithms.community as nxcom\nimport re\nimport json\nfrom StoryKG_generator import *\nimport StoryKG_generator\nfrom Queries4Text import *\nimport Queries4Text\n# import SPARQLWrapper\n\nfrom scipy import rand\n\ndef clean_triples(s,p,o):\n    triples_clean = \"\"\n    triples_clean += (\n        (str(s).split('/')[-1] + \" - \" + str(p).split(\"/\")[-1] + \" - \" + str(o).split(\"/\")[-1] + \" | \"))\n    triples_clean = re.sub('22-rdf-syntax-ns#', '', triples_clean)\n    triples_clean = re.sub('rdf-schema##', '', triples_clean)\n    triples_clean = re.sub('owl#', '', triples_clean)\n    triples_clean = re.sub('rdf-schema#', '', triples_clean)\n    triples_clean = re.sub('XMLSchema#', '', triples_clean)\n    return triples_clean\n'''\ndef clear(story,semantic_given):\n    HERO = Namespace(\"http://hero_ontology/\")\n    sem = Namespace(\"http://semanticweb.cs.vu.nl/2009/11/sem/\")\n    triples_clean = \"\"\n\n    if semantic_given=='types':\n        for s, p, o in story.triples((None, None, None)):\n            if o==RDFS.Class or o==RDFS.Resource or o==sem.Core or  p == HERO.villain or p == HERO.ThreatenedElement or p==HERO.journeyStage or p==RDFS.range or p==HERO.hasTitle or p==HERO.hasHouse or p==HERO.hasOccupation or p==sem.hasActor or p==sem.hasPlace or p==sem.hasTime or p==RDFS.label:\n                continue\n            triples_clean += clean_triples(s,p,o)\n\n    if semantic_given=='event':\n        for s, p, o in story.triples((None, None, None)):\n            if o==RDFS.Resource or o==sem.Core or p==RDFS.range or p==RDFS.label:\n                continue\n            triples_clean += clean_triples(s,p,o)\n\n\n    if semantic_given=='range':\n        for s, p, o in story.triples((None, None, None)):\n            if o == RDFS.Resource or o == sem.Core or p == RDFS.label:\n                continue\n            triples_clean += clean_triples(s,p,o)\n\n\n    return triples_clean\n'''\ndef clear1(story):\n    result = \"\"\n    for i in story:\n        s = i[0]\n        p = i[1]\n        o = i[2]\n        triples_clean = \"\"\n        triples_clean += (\n            (str(s).split('/')[-1] + \" - \" + str(p).split(\"/\")[-1] + \" - \" + str(o).split(\"/\")[-1] + \" | \"))\n        triples_clean = re.sub('22-rdf-syntax-ns#', '', triples_clean)\n        triples_clean = re.sub('rdf-schema##', '', triples_clean)\n        triples_clean = re.sub('owl#', '', triples_clean)\n        triples_clean = re.sub('rdf-schema#', '', triples_clean)\n        triples_clean = re.sub('XMLSchema#', '', triples_clean)\n        result += triples_clean\n    return result\n\n\n\n\n\ndef random_formulation(story):\n    #x=random.randint(1,3)\n    # y = random.randint(1, 3)\n    x = y = 1\n    result = ''\n\n    for i in [1,2,3,4,5,6,8,9,10,11,12]:\n        t = globals()[f\"textGeneration_Event{i}_{x}\"](story)\n        t = str(list(t))\n        t = t.replace(\"[(rdflib.term.Literal('\", \"\").replace(\"'),)]\", \"\")\n        t = t.replace('[(rdflib.term.Literal(\"','').replace('\"),)]', '')\n        #print(t)\n        result += t\n    #print(result)\n\n    return result\n\n\n\n\ndef main(argv, arc):\n    if arc!=4 or argv[1] not in [\"community\",\"relation\",\"random\"] :\n            #or argv[2] not in ['types','event','range', 'baseline_instances','baseline_classes']:\n        print(\"Error! Please enter a (valid) charachter picking method. (community,relation,random)\")\n        exit()\n    method_generation = argv[1]\n    #semantic_given = argv[2]\n    #n_kg_generated = int(argv[3])\n    what = argv[3]\n\n    if what == 'train':\n        n_kg_generated = 500\n\n    if what =='test':\n        n_kg_generated = 50\n\n    if what =='val':\n        n_kg_generated = 50\n\n    if what =='try':\n        n_kg_generated = 1\n\n    data = []\n    count = 0\n    count_KG = 0\n    path = f'/Users/teresa/Documents/GitHub/GoTAutomyth_short/generated_output/events_{method_generation}'\n    if os.path.exists(path)==False:\n        os.mkdir(path)\n\n\n    with open(f'generated_output/events_{method_generation}/{what}_events_{method_generation}.json', 'w', encoding='utf-8') as f:\n        f.write('[')\n        while count<n_kg_generated:\n            dict = {}\n            story=gen_story(method_generation)\n            #print(type(story))\n\n            text_try = list(Queries4Text.textGeneration_Event1_1(story))\n            text_try2 = list(Queries4Text.textGeneration_Event2_1(story))\n\n            if text_try2 == []: print(f'wrong {clear1(story)}')\n            if text_try != [] and text_try2 != []: #check if text coherent\n\n                #triples_list = clear(story, semantic_given)\n                #print(story.triples)\n                #triples = globals()[f\"Graph_Generator_{semantic_given}\"](story)\n                #triples= Queries4Text.Graph_Generator(story)\n                triples_classes = globals()[f\"Graph_Generator_baseline_classes\"](story)\n                dict['Class Knowledge Graph'] = clear1(triples_classes)\n                triples_inst = globals()[f\"Graph_Generator_baseline_instances\"](story)\n                dict['Instances Knowledge Graph'] = clear1(triples_inst)\n                triples_type = globals()[f\"Graph_Generator_types\"](story)\n                dict['Types Knowledge Graph'] = clear1(triples_type)\n                triples_event = globals()[f\"Graph_Generator_event\"](story)\n                dict['Event Knowledge Graph'] = clear1(triples_event)\n                triples_range = globals()[f\"Graph_Generator_range\"](story)\n                dict['Range Knowledge Graph'] = clear1(triples_range)\n\n\n\n\n                dict['story'] = random_formulation(story)\n                #dict['story'] = dict['story'].replace(\"[(rdflib.term.Literal('\", \"\").replace(\"'),)]\", \"\")\n\n                print(f'Generated story n {count}')\n                count += 1\n                json.dump(dict, f, ensure_ascii=False, indent=\"\")\n                story = story.serialize(f\"./story_a_{method_generation}_{count}.ttl\")\n                #story.parse(\"http://www.w3.org/People/Berners-Lee/card\")\n                story.serialize(format=\"xml\")\n                if count != n_kg_generated:\n                    f.write(',')\n        f.write(']')\n\n           # with open(f'generated_output/try_{method_generation}_{semantic_given}.json', 'w', encoding='utf-8') as f:\n            #    json.dump(dict, f, ensure_ascii=False, indent=\"\")\n\n\n\n\n\n\nif __name__ == '__main__':\n    main(sys.argv, len(sys.argv))\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/create_dataset.py b/create_dataset.py
--- a/create_dataset.py	(revision d03af7055f93a47ea4cf09e7c14cd454778bbd07)
+++ b/create_dataset.py	(date 1672842148768)
@@ -122,7 +122,8 @@
     data = []
     count = 0
     count_KG = 0
-    path = f'/Users/teresa/Documents/GitHub/GoTAutomyth_short/generated_output/events_{method_generation}'
+    #path = f'/Users/teresa/Documents/GitHub/GoTAutomyth_short/generated_output/events_{method_generation}'
+    path = f'/GoTAutomyth_short/generated_output/events_{method_generation}'
     if os.path.exists(path)==False:
         os.mkdir(path)
 
Index: Useful_turtles/Event_ontology.ttl
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>@prefix cidoc: <http://www8.informatik.uni-erlangen.de/IMMD8/Services/cidoc-crm/erlangen-crm_090330_5_0_1.owl#> .\n@prefix cs: <http://www.kulttuurisampo.fi/ebkr/> .\n@prefix cyc: <http://sw.opencyc.org/2009/04/07/concept/en/> .\n@prefix dc: <http://purl.org/dc/elements/1.1/> .\n@prefix dcmitype: <http://purl.org/dc/dcmitype/> .\n@prefix dcterms: <http://purl.org/dc/terms/> .\n@prefix dolce: <http://www.loa-cnr.it/ontologies/DOLCE-Lite.owl#> .\n@prefix eo: <http://purl.org/NET/c4dm/event.owl#> .\n@prefix foaf: <http://xmlns.com/foaf/0.1/> .\n@prefix lode: <http://linkedevents.org/ontology/> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix sem: <http://semanticweb.cs.vu.nl/2009/11/sem/> .\n@prefix skos: <http://www.w3.org/2004/02/skos/core#> .\n@prefix sumo: <http://www.ontologyportal.org/translations/SUMO.owl.txt#> .\n@prefix time1: <http://www.w3.org/2006/time> .\n@prefix wgs84: <http://www.w3.org/2003/01/geo/wgs84_pos#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n@base <http://hero_ontology/> .\n@prefix HERO: <http://hero_ontology/> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix sem: <http://semanticweb.cs.vu.nl/2009/11/sem/> .\n\nsem:Object a owl:Class ;\n    rdfs:label \"Object\" ;\n    rdfs:comment \"Objects are passive, inanimate Actors.\" ;\n    rdfs:subClassOf sem:Actor ;\n    skos:broadMatch cyc:SomethingExisting,\n        dolce:endurant ;\n    skos:closeMatch sumo:Object,\n        cidoc:E19.Physical_Object,\n        cidoc:E21.Person ;\n    skos:narrowMatch eo:Factor,\n        eo:Product,\n        dcmitype:PhysicalObject,\n        dcterms:PhysicalResource .\n        \n        \nsem:hasActor a owl:ObjectProperty ;\n    rdfs:label \"has Actor\" ;\n    rdfs:comment \"Has actor is used to state which Actors or Objects participate in an Event.\" ;\n    rdfs:range HERO:Hero ; #BIG LIMITATION BUT QUite confy\n    rdfs:subPropertyOf sem:eventProperty ;\n    skos:exactMatch lode:involved ;\n    skos:narrowMatch cs:agent ;\n    rdfs:domain sem:Event.\n    \n\n    \nsem:hasPlace a owl:ObjectProperty ;\n    rdfs:label \"has Place\" ;\n    rdfs:comment \"Has place is used to state in which Place(s) an Event happened. Coordinates can be attached to the Place with the W3C Geospatial Vocabulary (http://www.w3.org/2005/Incubator/geo/XGR-geo-20071023/).\" ;\n    rdfs:range sem:Place ;\n    rdfs:subPropertyOf sem:eventProperty ;\n    skos:exactMatch cs:place ;\n    skos:narrowMatch lode:inSpace ;\n    rdfs:domain sem:Event.\n    \n    \nsem:hasTime a owl:ObjectProperty ;\n    rdfs:label \"has Time\" ;\n    rdfs:comment \"Has time is used to indicate at which time an Event took place or when a property under the Temporary Constraint is valid. Has time points to a symbolic representation of time, which allows semantic relations between time resources. (see http://www.w3.org/TR/owl-time/)\" ;\n    rdfs:range sem:Time ;\n    rdfs:subPropertyOf sem:eventProperty ;\n    skos:broadMatch lode:atTime ;\n    rdfs:domain sem:Event.\n    \n\n\nsem:Place a owl:Class ;\n    rdfs:label \"Place\" ;\n    rdfs:comment \"Places are locations where an Event happens. They do not need to be physical places and hence do not necessarily need coordinates. Neither do they need to have any significance apart from them being the location of an Event.\" ;\n    rdfs:subClassOf sem:Core ;\n    skos:closeMatch dcterms:Location,\n        cyc:EnduringThing-Localized,\n        sumo:GeographicArea,\n        cidoc:E53.Place ;\n    skos:narrowMatch dolce:PhysicalRegion,\n        wgs84:SpatialThing .\n\nsem:Time a owl:Class ;\n    rdfs:label \"Time\";\n    rdfs:comment \"Time contains symbolic representations of when an Event took place. Time instances do not necessarily need to have a timestamp associated with them. The Time class exists to represent semantics of time, e.g. that one thing happens before another, even though the exact timestamps are unknown.\" ;\n    rdfs:subClassOf sem:Core ;\n    skos:broadMatch time1:TemporalEntity .\n    \n    \nsem:Actor a owl:Class ;\n    rdfs:label \"Actor\" ;\n    rdfs:comment \"\"\"Actors are entities that take part in an Event, either actively or passively. Actors do not necessarily have to be sentient. They can also be objects. Actors are a thing, animate or inanimate, physical or non-physical.\n\"\"\" ;\n    rdfs:subClassOf sem:Authority,\n        sem:Core ;\n    skos:broadMatch cyc:SomethingExisting,\n        dolce:endurant ;\n    skos:closeMatch dcterms:Agent,\n        dcterms:AgentClass,\n        cyc:Agent-Generic,\n        sumo:Agent,\n        cidoc:E39.Actor,\n        foaf:Agent .\n        \nsem:Event a owl:Class ;\n    rdfs:label \"Event\" ;\n    rdfs:comment \"Events are things that happen. This comprises everything from historical events to web site sessions and mythical journeys. Event is the central class of SEM.\" ;\n    rdfs:subClassOf sem:Core ;\n    skos:broadMatch lode:Event,\n        eo:Event ;\n    skos:closeMatch dcmitype:Event,\n        cyc:Situation,\n        dolce:perdurant,\n        sumo:Process,\n        cidoc:E5.Event .\n        \nsem:Core a owl:Class ;\n    rdfs:label \"Core\" ;\n    rdfs:comment \"The SEM Core class contains all entities that make up the context of an event: Events, Actors, Places, Times. This class is meant to be extended for each application domain.\" .                \n        \n           \n        \n        \n        \n        \n#hero here we AREEEEE\n\n\n#CLASS DECLARATION\n\n\nHERO:Main_Character rdf:type owl:Class ;\n\trdfs:label \"Main_Character\"@en ;\n\trdfs:subClassOf sem:Actor.\n\n\nHERO:EventWorld a rdfs:Class.\n\nHERO:Hero a rdfs:Class;\n\trdfs:subClassOf HERO:Main_Character.\n\t\nHERO:Villain a rdfs:Class;\n\trdfs:subClassOf HERO:Main_Character;\n    rdfs:label \"Villain\".\n\n\nHERO:HeroAlly a rdfs:Class;\t\n\trdfs:subClassOf sem:Actor.\n\n#HERO:HeroLover a rdfs:Class;\n#\trdfs:subClassOf HERO:HeroAlly.\n\nHERO:Mentor a rdfs:Class;\n\trdfs:subClassOf sem:Actor.\n\nHERO:VillainAlly a rdfs:Class;\n\trdfs:subClassOf sem:Actor.\n\nHERO:Occupation a rdfs:Class.\n\nHERO:Power a rdfs:Class.\nHERO:EnemyPower a rdfs:Class;\n\t\t\t\trdfs:subClassOf HERO:Power.\n\nHERO:HeroPower a rdfs:Class;\n\t\t\t\trdfs:subClassOf HERO:Power.\n\nHERO:ThreatTarget a rdfs:Class. #This should be something like STEAL, KILL, KIDINAP, DESTROY\n\nHERO:House a rdfs:Class.\n\nHERO:Title a rdfs:Class.\n\nHERO:Feelings a rdfs:Class. #scare, fear, terror, hesitation, confidence, joy,\n\nHERO:Celebration a rdfs:Class. #feast, dance, marriage, concert, freebeer, magicshow,\n\n#HERO:Challenge a rdfs:Class.\n\n#GENERIC EVENT PROPERTIES DECLARATION \n\n\n#HERO:journeyStage a rdfs:Property; #This is to tell which step of the journey we are in. Is gonna be numeric #I THINK NO NEED FOR THIS BC WE ARE INSTANCIATING IT\n\t#rdfs:Range rdfs:Literal ;\n\t#rdfs:domain sem:Event . #Actually has a subevent as domain but should go anyway right\n\n\n\n\n\t\n#HERO:predicate a rdfs:Property ; #this is to store the string which is gonna be the predicate of rdfstar main triple\n\t#rdfs:range rdfs:Literal ;\n\t#rdfs:domain HERO:Event .\n\n\n\t\n#SUBCLASSES DEFINITION. THOSE AR 12 DIFFERENT SUBLCASSES NOT 12 istances of ONE SUBCLASS\n\n#1  ORDINARYWORLD\nHERO:OrdinaryWorld rdfs:subClassOf sem:Event;\n                   rdfs:label \"First stage of the story - Ordinary world presentation\".\n                   \nHERO:hasTitle a rdfs:Property ;\n\trdfs:range HERO:Title ;\n\trdfs:domain HERO:OrdinaryWorld .\n\n\nHERO:hasHouse a rdfs:Property ;\n\trdfs:label \"\";\n\trdfs:range HERO:House ;\n\trdfs:domain HERO:OrdinaryWorld .\n\nHERO:hasOccupation a rdfs:Property ;\n\trdfs:range HERO:Occupation ;\n\trdfs:domain HERO:OrdinaryWorld .\n\t\nHERO:Event_01 a HERO:OrdinaryWorld; #instanciated\n\tHERO:journeyStage '1';\n\trdfs:label \"Ordinary World presentation\". \n\t\n#2 CALL TO ADVENTURE\n\nHERO:CallToAdventure rdfs:subClassOf sem:Event.\n\n\nHERO:villain  a rdfs:Property; #introducing the villain\n\trdfs:range HERO:Villain;\n\trdfs:domain HERO:CallToAdventure.\n\n\n#HERO:Threatens a rdfs:Property;\n\t#rdfs:range HERO:Threat;\n\t#rdfs:domain HERO:CallToAdventure.\n\nHERO:Threatens a rdfs:Property;\n\trdfs:range HERO:ThreatTarget;\n\t\n\trdfs:domain HERO:CallToAdventure.\n\n\t\nHERO:Event_02 a HERO:CallToAdventure; #instanciated\n\tHERO:journeyStage '2';\n\trdfs:label \"Villain threatens the safety of somebody. This is the call for the hero\". \n\n#3 REFUSAL OF THE CALL\n\nHERO:RefusalOfCall rdfs:subClassOf sem:Event.\n\n#hasactor is hero\n\nHERO:refusesToFight   a rdfs:Property;\n\trdfs:range HERO:Villain;\n\trdfs:domain HERO:RefusalOfCall.\n\t\nHERO:scaredOf   a rdfs:Property;\n\trdfs:range HERO:EnemyPower; #hero scaredd ofpower of villain and thus rfuse to fight\n\trdfs:domain HERO:RefusalOfCall.\n\t\nHERO:Event_03 a HERO:RefusalOfCall; #instanciated\n\tHERO:journeyStage '3';\n\trdfs:label \"Hero refuses to help saving the target and the world\". \t\n\t\n\t\t\n\n#4 MEETING THE MENTOR\nHERO:MeetingTheMentor rdfs:subClassOf sem:Event .\n\nHERO:meetsMentor a rdfs:Property;\n\trdfs:range HERO:Mentor;\n\trdfs:domain HERO:MeetingTheMentor.\n\t\nHERO:powerLearned a rdfs:Property;\n\trdfs:range HERO:HeroPower;\n\trdfs:domain HERO:MeetingTheMentor.\n\t\n#motivatonal quotes?????\t\n\t\nHERO:Event_04 a HERO:MeetingTheMentor; #instanciated\n\tHERO:journeyStage '4';\n\trdfs:label \"Meeting the Mentor\".  \n\n\n#5 CROSSING THE THRESHOLD - CHANGE OF LOCATION, DO WE NEED THAT???\nHERO:CrossThreshold rdfs:subClassOf sem:Event .\n\nHERO:travelsTo a rdfs:Property;\n\trdfs:range sem:Place;\n\trdfs:domain HERO:CrossThreshold  .\n\nHERO:Event_05 a HERO:CrossThreshold; #instanciated\n\tHERO:journeyStage '5';\n\trdfs:label \"The hero decides to face the villain and travels to the Place where the villain is.\".\n\n\n#6 TESTS ALLIES AND ENEMIES\n\nHERO:TestAlly rdfs:subClassOf sem:Event .\n\nHERO:meetsAlly a rdfs:Property;\n\trdfs:label \"The hero meets the ally that will help him face the challenge\";\n\trdfs:range HERO:HeroAlly;\n\trdfs:domain HERO:TestAlly  .\n\nHERO:faces a rdfs:Property;\n\trdfs:label \"The hero together with the ally faces the ally of the villain\";\n\trdfs:range HERO:VillainAlly;\n\trdfs:domain HERO:TestAlly  .\n\n#HERO:challenge a rdfs:Property;\n\t#rdfs:range HERO:Challenge;\n\t#rdfs:domain HERO:TestAlly.\n\n\t\nHERO:victory a rdfs:Property;\n\trdfs:range xsd:boolean;\n\trdfs:domain HERO:TestAlly.\n\t\n\t\nHERO:Event_06 a HERO:TestAlly; #instanciated\n\tHERO:journeyStage '6';\n\trdfs:label \"The ally help the hero to face the challenge against the Villain and its ally. it is a firt test\".\n\n\n#7 Approach to inmost Cave\n#changed:: love drama to be involved\n\nHERO:InmostCave rdfs:subClassOf sem:Event .\n\n#HERO:InLovewith a rdfs:Property;\n#\trdfs:label \"\";\n#\trdfs:range HERO:HeroLover;\n#\trdfs:domain HERO:InmostCave  .\n\nHERO:feeling a rdfs:Property;\n\trdfs:label \"The hero is arrived at the place where he will have to face the challenge and is overwhelmed by some feeling\"\t;\n\trdfs:range HERO:Feelings;\n\trdfs:domain HERO:InmostCave  .\n\n\n\n#HERO:loverThreatenedby a rdfs:Property;\n#\trdfs:range HERO:Threat;\n#\trdfs:domain HERO:InmostCave  .\n\n\n\nHERO:Event_07 a HERO:InmostCave; #instanciated\n\tHERO:journeyStage '7';\n\t#rdfs:label \"The hero falls in love with (the ally?) or someone and this someone is threatened\".\n\trdfs:label \"The hero is arrived at the location to face the villain and feel strong emotions\".\n\n\n#8 Ordeal\n\nHERO:Ordeal rdfs:subClassOf sem:Event .\n\nHERO:herofights a rdfs:Property;\n\trdfs:range HERO:Villain;\n\trdfs:domain HERO:Ordeal  .\n\n\nHERO:herousespower a rdfs:Property;\n#HERO:usepower a rdfs:Property;\n\trdfs:range HERO:HeroPower;\n\trdfs:domain HERO:Ordeal  .\n\nHERO:enemyusespower a rdfs:Property;\n#HERO:usepower a rdfs:Property;\n\trdfs:range HERO:EnemyPower;\n\trdfs:domain HERO:Ordeal  .\n\n\nHERO:herogetsinjured a rdfs:Property;\n\trdfs:range xsd:boolean;\n\trdfs:domain HERO:Ordeal  .\n\n\n\nHERO:Event_08 a HERO:Ordeal; #instanciated\n\tHERO:journeyStage '8';\n\trdfs:label \"Hero fights the enemy with powers\".  \n\n#9 Reward, seizing the sword WHAT ABOUT WE SAY THE HERO SAVES WHATEVER WAS THE TARGET OF THE THREAT SO HE GETS IT BACK (?)\n\nHERO:Reward rdfs:subClassOf sem:Event .\n\nHERO:saves a rdfs:Property;\n\trdfs:range HERO:ThreatTarget; \n\trdfs:domain HERO:Reward  .\n\n#reference here also\nHERO:Event_09 a HERO:Reward;\n\tHERO:journeyStage '9';\n\trdfs:label \"Hero  SAVES WHATEVER WAS THE TARGET OF THE THREAT SO HE GETS IT BACK \".  \n\n\t\n\n#10 The Road Back\n#here I dont know why there should be another fight just here -> lets make that hero saves lover\n\nHERO:RoadBack rdfs:subClassOf sem:Event .\n\n\n\nHERO:chasedBy a rdfs:Property;\n\trdfs:range HERO:Villain;\n\trdfs:domain HERO:RoadBack .\n\nHERO:Event_10 a HERO:RoadBack; #instanciated\n\tHERO:journeyStage '10';\n\trdfs:label \"Villain chases hero down and seek for final battle\".\n\n\n#11 Resurrection \n\nHERO:Resurrection rdfs:subClassOf sem:Event .\n\nHERO:against a rdfs:Property;\n\trdfs:range HERO:Villain;\n\trdfs:domain HERO:Resurrection .\n\nHERO:killsVillain a rdfs:Property;\n\trdfs:range xsd:boolean;\n\trdfs:domain HERO:Resurrection .\n\n\n\nHERO:Event_11 a HERO:Resurrection; #instanciated \n\tHERO:journeyStage '11';\n\trdfs:label \"Final confrontation between hero and villain\".\n\n#12 end of the story -party\n\nHERO:Party rdfs:subClassOf sem:Event .\n\n\nHERO:celebratesvictory a rdfs:Property;\n\trdfs:range HERO:Celebration;\n\trdfs:domain HERO:Party .\n\n\nHERO:partywith a rdfs:Property;\n\trdfs:range HERO:HeroAlly;\n\trdfs:domain HERO:Party .\n\n\nHERO:Event_12 a HERO:Party; #instanciated \n\tHERO:journeyStage '12';\n\trdfs:label \"Hero throws a party\".  \n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Useful_turtles/Event_ontology.ttl b/Useful_turtles/Event_ontology.ttl
--- a/Useful_turtles/Event_ontology.ttl	(revision d03af7055f93a47ea4cf09e7c14cd454778bbd07)
+++ b/Useful_turtles/Event_ontology.ttl	(date 1672857842502)
@@ -229,9 +229,6 @@
 	rdfs:domain HERO:CallToAdventure.
 
 
-#HERO:Threatens a rdfs:Property;
-	#rdfs:range HERO:Threat;
-	#rdfs:domain HERO:CallToAdventure.
 
 HERO:Threatens a rdfs:Property;
 	rdfs:range HERO:ThreatTarget;
@@ -375,8 +372,6 @@
 	rdfs:range xsd:boolean;
 	rdfs:domain HERO:Ordeal  .
 
-
-
 HERO:Event_08 a HERO:Ordeal; #instanciated
 	HERO:journeyStage '8';
 	rdfs:label "Hero fights the enemy with powers".  
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"ProjectRootManager\" version=\"2\" project-jdk-name=\"Python 3.10 (GoTAutomyth_short)\" project-jdk-type=\"Python SDK\" />\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision d03af7055f93a47ea4cf09e7c14cd454778bbd07)
+++ b/.idea/misc.xml	(date 1672854297393)
@@ -1,4 +1,4 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.10 (GoTAutomyth_short)" project-jdk-type="Python SDK" />
+  <component name="ProjectRootManager" version="2" project-jdk-name="gotAutomyth" project-jdk-type="Python SDK" />
 </project>
\ No newline at end of file
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"83a7392c-09da-4bb9-b6c1-71213b41c276\" name=\"Changes\" comment=\"\">\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/Queries4Text.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Queries4Text.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/create_dataset.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/create_dataset.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/generated_output/events_random_baseline_classes/try_events_yo_random_baseline_classes.json\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/generated_output/events_random_baseline_classes/try_events_yo_random_baseline_classes.json\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/story_a_random_1.ttl\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/story_a_random_1.ttl\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"Turtle file (LtE)\" />\n        <option value=\"Python Script\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"GitSEFilterConfiguration\">\n    <file-type-list>\n      <filtered-out-file-type name=\"LOCAL_BRANCH\" />\n      <filtered-out-file-type name=\"REMOTE_BRANCH\" />\n      <filtered-out-file-type name=\"TAG\" />\n      <filtered-out-file-type name=\"COMMIT_BY_MESSAGE\" />\n    </file-type-list>\n  </component>\n  <component name=\"ProjectId\" id=\"2HDKxCjNNwfOH8tBLMMWIhtxfFr\" />\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"RecentsManager\">\n    <key name=\"MoveFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/\" />\n    </key>\n  </component>\n  <component name=\"RunManager\" selected=\"Python.try_json\">\n    <configuration name=\"generatorShort\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\n      <module name=\"GoTAutomyth_short\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"PARENT_ENVS\" value=\"true\" />\n      <envs>\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\n      </envs>\n      <option name=\"SDK_HOME\" value=\"\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/generatorShort.py\" />\n      <option name=\"PARAMETERS\" value=\"\" />\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\n      <option name=\"MODULE_MODE\" value=\"false\" />\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\n      <option name=\"INPUT_FILE\" value=\"\" />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"try_json\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\n      <module name=\"GoTAutomyth_short\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"PARENT_ENVS\" value=\"true\" />\n      <envs>\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\n      </envs>\n      <option name=\"SDK_HOME\" value=\"\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/try_json.py\" />\n      <option name=\"PARAMETERS\" value=\"\" />\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\n      <option name=\"MODULE_MODE\" value=\"false\" />\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\n      <option name=\"INPUT_FILE\" value=\"\" />\n      <method v=\"2\" />\n    </configuration>\n    <recent_temporary>\n      <list>\n        <item itemvalue=\"Python.try_json\" />\n        <item itemvalue=\"Python.generatorShort\" />\n      </list>\n    </recent_temporary>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"83a7392c-09da-4bb9-b6c1-71213b41c276\" name=\"Changes\" comment=\"\" />\n      <created>1667814459711</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1667814459711</updated>\n    </task>\n    <servers />\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision d03af7055f93a47ea4cf09e7c14cd454778bbd07)
+++ b/.idea/workspace.xml	(date 1672857599642)
@@ -5,11 +5,12 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="83a7392c-09da-4bb9-b6c1-71213b41c276" name="Changes" comment="">
+      <change beforePath="$PROJECT_DIR$/.idea/GoTAutomyth_short.iml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/GoTAutomyth_short.iml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/misc.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Queries4Text.py" beforeDir="false" afterPath="$PROJECT_DIR$/Queries4Text.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/StoryKG_generator.py" beforeDir="false" afterPath="$PROJECT_DIR$/StoryKG_generator.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/Useful_turtles/Event_ontology.ttl" beforeDir="false" afterPath="$PROJECT_DIR$/Useful_turtles/Event_ontology.ttl" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/create_dataset.py" beforeDir="false" afterPath="$PROJECT_DIR$/create_dataset.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/generated_output/events_random_baseline_classes/try_events_yo_random_baseline_classes.json" beforeDir="false" afterPath="$PROJECT_DIR$/generated_output/events_random_baseline_classes/try_events_yo_random_baseline_classes.json" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/story_a_random_1.ttl" beforeDir="false" afterPath="$PROJECT_DIR$/story_a_random_1.ttl" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -34,6 +35,9 @@
       <filtered-out-file-type name="TAG" />
       <filtered-out-file-type name="COMMIT_BY_MESSAGE" />
     </file-type-list>
+  </component>
+  <component name="MarkdownSettingsMigration">
+    <option name="stateVersion" value="1" />
   </component>
   <component name="ProjectId" id="2HDKxCjNNwfOH8tBLMMWIhtxfFr" />
   <component name="ProjectLevelVcsManager" settingsEditedManually="true" />
@@ -41,17 +45,44 @@
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
   </component>
-  <component name="PropertiesComponent">
-    <property name="RunOnceActivity.OpenProjectViewOnStart" value="true" />
-    <property name="RunOnceActivity.ShowReadmeOnStart" value="true" />
-    <property name="last_opened_file_path" value="$PROJECT_DIR$" />
-  </component>
+  <component name="PropertiesComponent"><![CDATA[{
+  "keyToString": {
+    "RunOnceActivity.OpenProjectViewOnStart": "true",
+    "RunOnceActivity.ShowReadmeOnStart": "true",
+    "last_opened_file_path": "/home/gabhoo/research/GoTAutomyth_Short/GoTAutomyth_short",
+    "settings.editor.selected.configurable": "com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable"
+  }
+}]]></component>
   <component name="RecentsManager">
+    <key name="CopyFile.RECENT_KEYS">
+      <recent name="$PROJECT_DIR$" />
+    </key>
     <key name="MoveFile.RECENT_KEYS">
       <recent name="$PROJECT_DIR$/" />
     </key>
   </component>
-  <component name="RunManager" selected="Python.try_json">
+  <component name="RunManager" selected="Python.StoryKG_generator">
+    <configuration name="StoryKG_generator" type="PythonConfigurationType" factoryName="Python" temporary="true" nameIsGenerated="true">
+      <module name="GoTAutomyth_short" />
+      <option name="INTERPRETER_OPTIONS" value="" />
+      <option name="PARENT_ENVS" value="true" />
+      <envs>
+        <env name="PYTHONUNBUFFERED" value="1" />
+      </envs>
+      <option name="SDK_HOME" value="" />
+      <option name="WORKING_DIRECTORY" value="$PROJECT_DIR$" />
+      <option name="IS_MODULE_SDK" value="true" />
+      <option name="ADD_CONTENT_ROOTS" value="true" />
+      <option name="ADD_SOURCE_ROOTS" value="true" />
+      <option name="SCRIPT_NAME" value="$PROJECT_DIR$/StoryKG_generator.py" />
+      <option name="PARAMETERS" value="" />
+      <option name="SHOW_COMMAND_LINE" value="false" />
+      <option name="EMULATE_TERMINAL" value="false" />
+      <option name="MODULE_MODE" value="false" />
+      <option name="REDIRECT_INPUT" value="false" />
+      <option name="INPUT_FILE" value="" />
+      <method v="2" />
+    </configuration>
     <configuration name="generatorShort" type="PythonConfigurationType" factoryName="Python" temporary="true" nameIsGenerated="true">
       <module name="GoTAutomyth_short" />
       <option name="INTERPRETER_OPTIONS" value="" />
@@ -96,6 +127,7 @@
     </configuration>
     <recent_temporary>
       <list>
+        <item itemvalue="Python.StoryKG_generator" />
         <item itemvalue="Python.try_json" />
         <item itemvalue="Python.generatorShort" />
       </list>
@@ -122,6 +154,5 @@
         </entry>
       </map>
     </option>
-    <option name="oldMeFiltersMigrated" value="true" />
   </component>
 </project>
\ No newline at end of file
Index: .idea/GoTAutomyth_short.iml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<module type=\"PYTHON_MODULE\" version=\"4\">\n  <component name=\"NewModuleRootManager\">\n    <content url=\"file://$MODULE_DIR$\" />\n    <orderEntry type=\"inheritedJdk\" />\n    <orderEntry type=\"sourceFolder\" forTests=\"false\" />\n  </component>\n</module>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/GoTAutomyth_short.iml b/.idea/GoTAutomyth_short.iml
--- a/.idea/GoTAutomyth_short.iml	(revision d03af7055f93a47ea4cf09e7c14cd454778bbd07)
+++ b/.idea/GoTAutomyth_short.iml	(date 1672854297385)
@@ -2,7 +2,7 @@
 <module type="PYTHON_MODULE" version="4">
   <component name="NewModuleRootManager">
     <content url="file://$MODULE_DIR$" />
-    <orderEntry type="inheritedJdk" />
+    <orderEntry type="jdk" jdkName="gotAutomyth" jdkType="Python SDK" />
     <orderEntry type="sourceFolder" forTests="false" />
   </component>
 </module>
\ No newline at end of file
